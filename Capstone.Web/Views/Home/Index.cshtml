@model Capstone.Web.Models.PotholeViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<body>
    <potholemap></potholemap>
    @*<p>Search for Pothole:</p>*@
    @*<form action="Index" method="get">
            <input type="hidden" name="IsValidated" value="true" />
            <input type="text" name="UserName" placeholder="Submitter Username" @ />

            <input type="text" name="Street1" placeholder="On Street" />

            <input type="text" name="Street2" placeholder="Neighboring Street" />

            <select title="Severity" name="Severity">

                <option value="1">1</option>

                <option value="2">2</option>

                <option value="3">3</option>

                <option value="4">4</option>

                <option value="5">5</option>

                <option value="6">6</option>

                <option value="7">7</option>

                <option value="8">8</option>

                <option value="9">9</option>

                <option iflue="10">10</option>

            </select>

            <button>SEARCH</button>

        </form>*@

    <searchbar></searchbar>

    <resultstable></resultstable>

    @*<table class="table-index-page">
        <th colspan="5">Current Confirmed Potholes:</th>

        <tr style="font-weight:bold">
            <td>Severity</td>
            <td>First Cross Street</td>
            <td>Second Cross Street</td>
            <td>Location</td>
            <td>Pothole Description</td>
        </tr>
        @foreach (var pothole in Model.PotholeList)
        {
            <tr>
                <td>@pothole.Severity</td>
                <td>@pothole.Street1</td>
                <td>@pothole.Street2</td>
                <td>@pothole.LocationDesc</td>
                <td>@pothole.PotholeDesc</td>
            </tr>
        }
    </table>*@

    @if (Model.PotholeList.Count == 0)
    {
        <p>No results could be found for that search.</p>
    }

    <script src="~/RiotComponents/potholemap.tag" type="riot/tag">
    </script>
    <script src="~/RiotComponents/searchbar.tag" type="riot/tag">
    </script>
    <script src="~/RiotComponents/resultstable.tag" type="riot/tag">
    </script>
    <script src="~/RiotComponents/bargraph.tag" type="riot/tag">
    </script>



    <script>

        let bus = {};

        riot.observable(bus);   //makes it so our bus can send and receive messages

        // Mount the riot tags to the page here

        riot.mount('potholemap', { bus: bus });
        riot.mount('searchbar', { bus: bus });
        riot.mount('resultstable', { bus: bus });
        riot.mount('bargraph', { bus: bus });
    </script>

</body>


